<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Jubin Garg Songs</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
  :root{
    --spotify-green:#1db954;
    --bg-dark:#121212;
    --panel:#181818;
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:'Poppins',sans-serif;
    background:var(--bg-dark);
    color:#fff;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
  }

  header{
    text-align:center;
    padding:28px 12px 18px;
    background:linear-gradient(180deg,var(--spotify-green) 0%, #0f2b1a00 80%);
    border-bottom:1px solid rgba(29,185,84,0.12);
    box-shadow:0 6px 18px rgba(0,0,0,0.6);
  }
  header h1{margin:0;font-size:2.4rem;font-weight:700}
  header h3{margin:6px 0 0;font-weight:400;color:#bdbdbd}

  /* list */
  .song-list{display:flex;flex-direction:column;gap:16px;padding:20px}
  .song-card{
    display:flex;align-items:center;gap:14px;
    background:var(--panel);
    border-radius:14px;padding:12px;
    box-shadow:0 6px 18px rgba(0,0,0,0.6);
    cursor:pointer;transition:transform .18s ease, box-shadow .18s ease;
  }
  .song-card:hover{transform:translateY(-6px);box-shadow:0 18px 40px rgba(0,0,0,0.7)}
  .song-thumb{width:68px;height:68px;border-radius:10px;object-fit:cover;flex-shrink:0}
  .song-info{flex:1}
  .song-title{font-weight:700;font-size:1.05rem;color:#fff}
  .song-artist{color:#9a9a9a;margin-top:4px;font-size:.9rem}

  /* player overlay (full screen) */
  #playerModal{
    display:none;
    position:fixed;inset:0;z-index:120;
    align-items:center;justify-content:flex-start;
    overflow:auto;
  }

  /* blurred background using CSS var set from JS */
  #playerModal::before{
    content:"";
    position:absolute;inset:0;
    background-image: var(--bg);
    background-size:cover;background-position:center;
    filter: blur(18px) brightness(.35);
    transform: scale(1.05);
    z-index:-2;
  }
  /* dim overlay gradient */
  #playerModal::after{
    content:"";position:absolute;inset:0;
    background:linear-gradient(to bottom, rgba(0,0,0,.3) 0%, rgba(0,0,0,.7) 60%);
    z-index:-1;
  }

  .player-inner{
    width:100%;max-width:760px;margin:28px auto 60px;padding:30px 20px;
    display:flex;flex-direction:column;align-items:center;gap:18px;
    color:#fff;
  }

  .player-cover{
    width:86%;
    max-width:420px;
    height:auto;border-radius:16px;overflow:hidden;
    box-shadow:0 30px 80px rgba(0,0,0,0.6);
  }
  .player-cover img{width:100%;height:100%;object-fit:cover;display:block}

  .now-playing{
    width:100%;display:flex;flex-direction:column;align-items:center;gap:8px;margin-top:6px;
  }
  .track-title{font-size:1.3rem;font-weight:700}
  .track-sub{color:#d0d0d0;font-size:.95rem;margin-top:6px}

  /* progress controls */
  .progress-row{width:92%;max-width:640px;margin-top:12px;display:flex;align-items:center;gap:12px}
  .time{font-size:.85rem;color:#d0d0d0;min-width:44px;text-align:center}
  .seek{
    -webkit-appearance:none;appearance:none;height:8px;border-radius:8px;width:100%;
    background:linear-gradient(90deg,var(--spotify-green) 0%, #404040 0%);
    outline:none;
  }
  .seek::-webkit-slider-thumb{
    -webkit-appearance:none;border:4px solid #fff;height:18px;width:18px;border-radius:50%;background:var(--spotify-green);cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.6)
  }

  /* control buttons */
  .controls{
    width:92%;max-width:560px;margin-top:8px;display:flex;align-items:center;justify-content:space-between;
    padding:18px 10px;border-radius:14px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    box-shadow:inset 0 1px 0 rgba(255,255,255,0.02)
  }

  .left-controls{display:flex;align-items:center;gap:18px}
  .btn{
    width:56px;height:56px;border-radius:28px;border:none;background:transparent;color:#fff;font-size:1.6rem;cursor:pointer;
    display:inline-flex;align-items:center;justify-content:center;transition:transform .12s ease, background .12s;
  }
  .btn:hover{transform:scale(1.06)}
  .big-play{width:76px;height:76px;border-radius:38px;background:#fff;color:var(--bg-dark);font-size:1.6rem;box-shadow:0 12px 30px rgba(0,0,0,.6)}
  .small-icon{font-size:1.4rem;color:var(--spotify-green)}

  /* extra icons row */
  .extras{width:92%;max-width:560px;display:flex;justify-content:space-between;padding:6px 10px;margin-top:10px;color:#cfcfcf}

  /* top bar - close */
  .topbar{position:fixed;top:12px;left:12px;right:12px;display:flex;justify-content:space-between;align-items:center;z-index:130}
  .top-left{display:flex;align-items:center;gap:8px}
  .close-arrow{font-size:1.6rem;color:#fff;cursor:pointer;background:rgba(255,255,255,0.04);padding:8px;border-radius:8px}

  /* responsive adjustments */
  @media (min-width:900px){
    .player-inner{padding:40px}
    .player-cover{max-width:520px}
  }
</style>
</head>
<body>

<header>
  <h1>Jubin Garg</h1>
  <h3>All Songs</h3>
</header>

<!-- song list -->
<div class="song-list" id="songList">
  <!-- cards inserted by HTML below (keeps your original ordering) -->
  
  <div class="song-card" data-src="songs/Jubin/mayabini.mp3" data-img="images/Jubin/mayabini.jpg" data-title="Mayabini" data-artist="Jubin Garg">
     <img class="song-thumb" src="images/Jubin/mayabini.jpg" alt="Mayabini">
    <div class="song-info">
      <div class="song-title">Mayabini</div>
      <div class="song-artist">Jubin Garg</div>
    </div>
  </div>

  <div class="song-card" data-src="songs/Jubin/yaali.mp3" data-img="images/Jubin/yaali.jpg" data-title="Ya Aali" data-artist="Jubin Garg">
    <img class="song-thumb" src="images/Jubin/yaali.jpg" alt="Ya Aali">
    <div class="song-info">
      <div class="song-title">Ya Aali</div>
      <div class="song-artist">Jubin Garg</div>
    </div>
  </div>

  <div class="song-card" data-src="songs/Jubin/diltuhi.mp3" data-img="images/Jubin/diltuhi.jpg" data-title="Dil tu hi bata " data-artist="Jubin Garg">
    <img class="song-thumb" src="images/Jubin/diltuhi.jpg" alt="Dil tu hi">
    <div class="song-info">
      <div class="song-title">Dil tu hi bata</div>
      <div class="song-artist">Junin Garg</div></div>
    </div>
  
  <div class="song-card" data-src="songs/Jubin/bintere.mp3" data-img="images/Jubin/bintere.jpg" data-title="Bin tere tere bin" data-artist="Jubin Garg">
    <img class="song-thumb" src="images/Jubin/bintere.jpg" alt="Bin tere tere bin">
    <div class="song-info">
      <div class="song-title">Bin tere tere bin</div>
      <div class="song-artist">Jubin Garg</div>
    </div>
  </div>
  
  </div>

<!-- Player Modal (full-screen) -->
<div id="playerModal" role="dialog" aria-hidden="true">
  <div class="topbar">
    <div class="top-left">
      <div class="close-arrow" id="btnCloseOverlay" title="Close overlay">‚•Ø</div>
    </div>
    <div></div>
  </div>

  <div class="player-inner" id="playerInner">
    <div class="player-cover"><img id="coverImg" src="" alt="cover"></div>

    <div class="now-playing">
      <div class="track-title" id="trackTitle">Title</div>
      <div class="track-sub" id="trackArtist">Artist</div>
    </div>

    <div class="progress-row">
      <div class="time" id="currentTime">0:00</div>
      <input id="seek" class="seek" type="range" min="0" max="100" value="0" step="0.1" />
      <div class="time" id="duration">0:00</div>
    </div>

    <div class="controls">
      <div class="left-controls">
        <button class="btn small-icon" id="shuffleBtn" title="Shuffle">üîÉ</button>
        <button class="btn" id="prevBtn" title="Previous">‚èÆ</button>
      </div>

      <div style="display:flex;align-items:center;gap:14px">
        <button class="big-play" id="playPauseBtn" title="Play/Pause">‚ñ∂</button>
      </div>

      <div style="display:flex;align-items:center;gap:12px">
        <button class="btn" id="nextBtn" title="Next">‚è≠</button>
        <button class="btn small-icon" id="repeatBtn" title="Repeat">üîÑ</button>
      </div>
    </div>

    <div class="extras">
      <div style="display:flex;gap:12px;align-items:center">
        <div style="opacity:.9">Playing from: <strong style="margin-left:6px;color:var(--spotify-green)">Jubin Garg</strong></div>
      </div>
      <div style="opacity:.9">Duration shown & controls</div>
    </div>

    <!-- Hidden audio element used for playback -->
    <audio id="playerAudio"></audio>
  </div>
</div>

<script>
  // build track list from DOM cards (keeps it easy to manage)
  const cardNodes = Array.from(document.querySelectorAll('.song-card'));
  const tracks = cardNodes.map(node => ({
    src: node.dataset.src,
    img: node.dataset.img,
    title: node.dataset.title,
    artist: node.dataset.artist || 'Unknown'
  }));

  // UI elements
  const playerModal = document.getElementById('playerModal');
  const coverImg = document.getElementById('coverImg');
  const trackTitle = document.getElementById('trackTitle');
  const trackArtist = document.getElementById('trackArtist');
  const playerAudio = document.getElementById('playerAudio');
  const playPauseBtn = document.getElementById('playPauseBtn');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const shuffleBtn = document.getElementById('shuffleBtn');
  const repeatBtn = document.getElementById('repeatBtn');
  const seek = document.getElementById('seek');
  const currentTimeEl = document.getElementById('currentTime');
  const durationEl = document.getElementById('duration');
  const btnCloseOverlay = document.getElementById('btnCloseOverlay');

  let currentIndex = 0;
  let isShuffle = false;
  let isRepeat = false;
  let userSeeking = false;

  // helpers
  function formatTime(sec){
    if (!sec || isNaN(sec)) return '0:00';
    const m = Math.floor(sec / 60);
    const s = Math.floor(sec % 60).toString().padStart(2,'0');
    return `${m}:${s}`;
  }

  function openPlayer(index){
    currentIndex = index;
    loadTrack(currentIndex);
    playerModal.style.display = 'flex';
    playerModal.setAttribute('aria-hidden', 'false');
  }

  function loadTrack(index){
    const t = tracks[index];
    playerAudio.src = t.src;
    coverImg.src = t.img;
    // set blurred bg via css var
    playerModal.style.setProperty('--bg', `url("${t.img}")`);
    trackTitle.textContent = t.title;
    trackArtist.textContent = t.artist;
    // reset progress UI
    seek.value = 0;
    currentTimeEl.textContent = '0:00';
    durationEl.textContent = '0:00';

    // autoplay when loaded metadata ready
    playerAudio.load();
    playerAudio.addEventListener('loadedmetadata', () => {
      durationEl.textContent = formatTime(playerAudio.duration);
      seek.max = Math.floor(playerAudio.duration);
    }, { once: true });

    playerAudio.play().catch(()=>{ /* autoplay may be blocked on some browsers - user will tap play */ });
    updatePlayButton(true);
  }

  // play/pause toggle
  function updatePlayButton(playing){
    if(playing){
      playPauseBtn.textContent = '‚è∏Ô∏è';
      playPauseBtn.title = 'Pause';
    } else {
      playPauseBtn.textContent = '‚ñ∂Ô∏è';
      playPauseBtn.title = 'Play';
    }
  }

  playPauseBtn.addEventListener('click', () => {
    if(playerAudio.paused){
      playerAudio.play();
      updatePlayButton(true);
    } else {
      playerAudio.pause();
      updatePlayButton(false);
    }
  });

  // prev/next logic (with shuffle)
  prevBtn.addEventListener('click', () => {
    if (playerAudio.currentTime > 3) {
      playerAudio.currentTime = 0;
    } else {
      if(isShuffle){
        currentIndex = Math.floor(Math.random()*tracks.length);
      } else {
        currentIndex = (currentIndex-1+tracks.length)%tracks.length;
      }
      loadTrack(currentIndex);
    }
  });

  nextBtn.addEventListener('click', () => {
    if(isShuffle){
      currentIndex = Math.floor(Math.random()*tracks.length);
    } else {
      currentIndex = (currentIndex+1)%tracks.length;
    }
    loadTrack(currentIndex);
  });

  shuffleBtn.addEventListener('click', () => {
    isShuffle = !isShuffle;
    shuffleBtn.style.opacity = isShuffle ? '1' : '0.6';
    shuffleBtn.style.color = isShuffle ? 'var(--spotify-green)' : '';
  });

  repeatBtn.addEventListener('click', () => {
    isRepeat = !isRepeat;
    repeatBtn.style.opacity = isRepeat ? '1' : '0.6';
    playerAudio.loop = isRepeat;
  });

  // time updates
  playerAudio.addEventListener('timeupdate', () => {
    if(!userSeeking){
      seek.value = Math.floor(playerAudio.currentTime);
      currentTimeEl.textContent = formatTime(playerAudio.currentTime);
    }
  });

  // update progress bar while user drags
  seek.addEventListener('input', () => {
    userSeeking = true;
    currentTimeEl.textContent = formatTime(seek.value);
  });
  seek.addEventListener('change', () => {
    playerAudio.currentTime = parseFloat(seek.value);
    userSeeking = false;
  });

  // when track ends
  playerAudio.addEventListener('ended', () => {
    if(isRepeat){
      playerAudio.currentTime = 0;
      playerAudio.play();
    } else {
      nextBtn.click();
    }
  });

  // open overlay when any song card clicked
  cardNodes.forEach((card, idx) => {
    card.addEventListener('click', () => openPlayer(idx));
  });

  // Close overlay arrow - minimize/hide overlay but keep playing
  btnCloseOverlay.addEventListener('click', () => {
    playerModal.style.display = 'none';
    playerModal.setAttribute('aria-hidden','true');
  });

  // keyboard controls (space to play/pause)
  document.addEventListener('keydown', (e) => {
    if(e.code === 'Space'){
      e.preventDefault();
      if(playerAudio.paused) playerAudio.play();
      else playerAudio.pause();
    }
  });

  // Make sure the first load doesn't break if autoplay blocked:
  playerAudio.addEventListener('play', ()=> updatePlayButton(true));
  playerAudio.addEventListener('pause', ()=> updatePlayButton(false));
</script>
</body>
</html>
